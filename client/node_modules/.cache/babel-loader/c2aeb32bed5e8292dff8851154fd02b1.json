{"ast":null,"code":"var _jsxFileName = \"/Users/dortiz/Desktop/Development/PersonalProjects/VerdeInventorySystem/client/src/components/Plants/PlantCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams, useNavigate } from 'react-router-dom'; // Redux store functions\n\nimport { deletePlant, editPlant } from '../../store/plantsSlice';\nimport { fetchPlant, SelectSinglePlant, getPlantStatus, getPlantError } from '../../store/plantSlice'; // Meterial UI Section\n\nimport { FormControl, Button, Typography, Card, CardMedia, CardContent, CardActions, Box } from '@mui/material'; // Other Imports \n\nimport FormConfirmDelete from './FormConfirmDelete';\nimport { PlantObjectValidator } from '../../services/validation';\nimport LoadingSpinner from '../Common/LoadingSpinner';\nimport ErrorMessage from '../Common/ErrorMessage';\nimport EditContent from './PlantCard/EditContent';\nimport PresentationContent from './PlantCard/PresentationContent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PlantCard = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const plant = useSelector(SelectSinglePlant);\n  const plantStatus = useSelector(getPlantStatus);\n  const plantError = useSelector(getPlantError);\n  const [plantInfo, setPlantInfo] = useState({});\n  const [editMode, setEditMode] = useState(false);\n  const [formConfirmDeleteVisible, setFormConfirmDeleteVisible] = useState(false);\n  const [formHasAllRequiredFields, setFormHasAllRequiredFields] = useState(true);\n  const [inputOfNumberValid, setInputOfNumberValid] = useState(true);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (plantStatus == 'idle') {\n      dispatch(fetchPlant(id));\n    }\n  }, [plantStatus, id, dispatch]);\n  useEffect(() => {\n    setPlantInfo(plant);\n  }, [plant]);\n  let content;\n\n  if (plantStatus == 'loading') {\n    content = /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 19\n    }, this);\n  } else if (plantStatus == 'succeeded') {\n    content = /*#__PURE__*/_jsxDEV(PresentationContent, {\n      plant: plant,\n      handleEditMode: handleEditMode,\n      setFormConfirmDeleteVisible: setFormConfirmDeleteVisible\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }, this);\n  } else if (plantStatus == 'failed') {\n    content = /*#__PURE__*/_jsxDEV(ErrorMessage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }, this);\n  }\n\n  function handleInputChange(event) {\n    let newObj = {};\n\n    if (!isNaN(parseInt(event.target.value))) {\n      newObj[event.target.name] = parseInt(event.target.value);\n    } else {\n      newObj[event.target.name] = event.target.value;\n    }\n\n    setPlantInfo({ ...plantInfo,\n      ...newObj\n    });\n  }\n\n  function handleEditMode() {\n    setEditMode(!editMode);\n  }\n\n  ;\n\n  function handleSaveEdit() {\n    let PlantValidator = new PlantObjectValidator(plantInfo);\n    let result = PlantValidator.validate();\n    setFormHasAllRequiredFields(PlantValidator.hasAllRequiredFields);\n    setInputOfNumberValid(PlantValidator.inputNumberIsValid);\n\n    if (result) {\n      dispatch(editPlant(plantInfo));\n      navigate('/plants');\n    }\n  }\n\n  ;\n\n  function handleDeleteItem() {\n    dispatch(deletePlant(id));\n    navigate('/plants');\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [formConfirmDeleteVisible && /*#__PURE__*/_jsxDEV(FormConfirmDelete, {\n      handleDeleteItem: handleDeleteItem,\n      setFormConfirmDeleteVisible: setFormConfirmDeleteVisible\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 42\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        margin: \"10px\"\n      },\n      children: editMode ? /*#__PURE__*/_jsxDEV(EditContent, {\n        plant: plant,\n        plantInfo: plantInfo,\n        formHasAllRequiredFields: formHasAllRequiredFields,\n        inputOfNumberValid: inputOfNumberValid,\n        handleSaveEdit: handleSaveEdit,\n        handleEditMode: handleEditMode,\n        handleInputChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this) : content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 13\n  }, this);\n};\n\n_s(PlantCard, \"ddq5gVxYIB1G/e0j7+CYrZK3UWo=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector, useDispatch, useNavigate];\n});\n\n_c = PlantCard;\nexport default PlantCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlantCard\");","map":{"version":3,"sources":["/Users/dortiz/Desktop/Development/PersonalProjects/VerdeInventorySystem/client/src/components/Plants/PlantCard.js"],"names":["React","useEffect","useState","useSelector","useDispatch","useParams","useNavigate","deletePlant","editPlant","fetchPlant","SelectSinglePlant","getPlantStatus","getPlantError","FormControl","Button","Typography","Card","CardMedia","CardContent","CardActions","Box","FormConfirmDelete","PlantObjectValidator","LoadingSpinner","ErrorMessage","EditContent","PresentationContent","PlantCard","id","plant","plantStatus","plantError","plantInfo","setPlantInfo","editMode","setEditMode","formConfirmDeleteVisible","setFormConfirmDeleteVisible","formHasAllRequiredFields","setFormHasAllRequiredFields","inputOfNumberValid","setInputOfNumberValid","dispatch","navigate","content","handleEditMode","handleInputChange","event","newObj","isNaN","parseInt","target","value","name","handleSaveEdit","PlantValidator","result","validate","hasAllRequiredFields","inputNumberIsValid","handleDeleteItem","margin"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { useParams, useNavigate} from 'react-router-dom';\n// Redux store functions\nimport { deletePlant, editPlant} from '../../store/plantsSlice';\nimport {fetchPlant, SelectSinglePlant, getPlantStatus, getPlantError} from '../../store/plantSlice'; \n// Meterial UI Section\nimport {FormControl, Button, Typography, Card, CardMedia, CardContent, CardActions, Box} from '@mui/material';\n\n// Other Imports \nimport FormConfirmDelete from './FormConfirmDelete';\nimport { PlantObjectValidator } from '../../services/validation';\nimport LoadingSpinner from '../Common/LoadingSpinner';\nimport ErrorMessage from '../Common/ErrorMessage';\nimport EditContent from './PlantCard/EditContent';\nimport PresentationContent from './PlantCard/PresentationContent';\nconst PlantCard = () => { \n    const { id } = useParams();\n    const plant = useSelector(SelectSinglePlant); \n    const plantStatus = useSelector(getPlantStatus); \n    const plantError = useSelector(getPlantError); \n    const [plantInfo, setPlantInfo] = useState({});\n    const [editMode, setEditMode] = useState(false); \n    const [formConfirmDeleteVisible, setFormConfirmDeleteVisible] = useState(false); \n    const [formHasAllRequiredFields, setFormHasAllRequiredFields] = useState(true);\n    const [inputOfNumberValid, setInputOfNumberValid] = useState(true);\n    const dispatch = useDispatch(); \n    const navigate = useNavigate(); \n\n    useEffect(() => {\n        if(plantStatus == 'idle'){\n            dispatch(fetchPlant(id))\n        }\n        \n    }, [plantStatus, id, dispatch]); \n    useEffect(()=>{\n        setPlantInfo(plant)\n    }, [plant]); \n\n    let content; \n\n    if(plantStatus == 'loading'){\n        content = <LoadingSpinner />\n    } else if(plantStatus == 'succeeded'){\n        content = <PresentationContent plant={plant} handleEditMode={handleEditMode} setFormConfirmDeleteVisible={setFormConfirmDeleteVisible}/>\n    } else if(plantStatus == 'failed'){\n        content = <ErrorMessage /> \n    }\n\n    function handleInputChange(event){\n        let newObj = {};\n        if (!isNaN(parseInt(event.target.value))) {\n            newObj[event.target.name] = parseInt(event.target.value);\n        } else {\n            newObj[event.target.name] = event.target.value;\n        }\n        setPlantInfo({\n            ...plantInfo,\n            ...newObj\n        })\n    }\n    function handleEditMode(){\n        setEditMode(!editMode);  \n    }; \n\n    function handleSaveEdit(){\n        let PlantValidator = new PlantObjectValidator(plantInfo)\n        let result = PlantValidator.validate(); \n        setFormHasAllRequiredFields(PlantValidator.hasAllRequiredFields);\n        setInputOfNumberValid(PlantValidator.inputNumberIsValid);\n        if(result){\n            dispatch(editPlant(plantInfo));\n            navigate('/plants')\n        } \n    }; \n\n    function handleDeleteItem(){\n        dispatch(deletePlant(id)); \n        navigate('/plants')\n    }; \n    \n    return (\n            <Box>\n            {formConfirmDeleteVisible && <FormConfirmDelete handleDeleteItem={handleDeleteItem} setFormConfirmDeleteVisible={setFormConfirmDeleteVisible} /> }\n                <Card sx={{ margin: \"10px\" }}>\n                    {editMode ? (\n                    <EditContent plant={plant} plantInfo={plantInfo}\n                              formHasAllRequiredFields={formHasAllRequiredFields}\n                              inputOfNumberValid={inputOfNumberValid} \n                              handleSaveEdit={handleSaveEdit}\n                              handleEditMode={handleEditMode}\n                              handleInputChange={handleInputChange}\n                              />\n                    ) : (\n                        content\n                    )}\n                </Card>\n            </Box>\n           \n        \n      \n    )\n}\n\nexport default PlantCard;"]},"metadata":{},"sourceType":"module"}