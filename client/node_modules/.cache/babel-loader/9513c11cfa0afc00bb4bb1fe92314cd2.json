{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport * as api from '../api/index'; // Helper functions \n\nfunction calculateAmount(list) {\n  let amount = 0;\n  list.forEach(item => amount += item.quantity);\n  return amount;\n} //Slice ** Think of Slice as a feature for the application.\n\n\nconst slice = createSlice({\n  name: 'plants',\n  initialState: {\n    plants: [],\n    amount: 0,\n    status: 'idle',\n    //'idel' | 'loading' | 'succeeded' | 'failed'\n    error: null\n  },\n  reducers: {},\n\n  extraReducers(builder) {\n    builder.addCase(fetchAllPlants.pending, (state, action) => {\n      state.status = 'loading';\n      console.log('loading');\n    }).addCase(fetchAllPlants.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.plants = action.payload; //state.amount = calculateAmount(action.payload)\n\n      state.amount = calculateAmount(action.payload);\n    }).addCase(fetchAllPlants.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    }).addCase(createNewPlant.pending, (state, action) => {\n      state.status = 'loading';\n    }).addCase(createNewPlant.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.plants.push(action.payload);\n      state.amount += action.payload.quantity;\n    }).addCase(createNewPlant.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    }).addCase(deletePlant.pending, (state, action) => {\n      state.status = 'loading';\n    }).addCase(deletePlant.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      let newList = state.plants.filter(plant => plant._id !== action.payload);\n      state.plants = newList;\n      state.amount -= action.payload.quantity;\n    }).addCase(deletePlant.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    }).addCase(editPlant.pending, (state, action) => {\n      state.status = 'loading';\n    }).addCase(editPlant.fulfilled, (state, action) => {\n      let newList = state.plants.filter(plant => plant._id !== action.payload._id);\n      newList.push(action.payload);\n      state.plants = newList;\n      state.amount = calculateAmount(newList);\n      state.status = 'succeeded';\n    }).addCase(editPlant.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    });\n  }\n\n});\nexport default slice.reducer; // Exporting State\n\nexport const SelectAllPlants = state => state.plants.plants;\n_c = SelectAllPlants;\nexport const getPlantsStatus = state => state.plants.status;\nexport const getPlantsError = state => state.plants.error;\nexport const getPlantsAmount = state => state.plants.amount; // Exporting Actions \n\nexport const createNewPlant = createAsyncThunk('plants/createNewPlant', async plantInfo => {\n  try {\n    let {\n      data\n    } = await api.createNewPlant(plantInfo);\n    return data;\n  } catch (error) {}\n}); // Mock object \n\nlet data = {\n  category: 'Sample Category',\n  name: 'Sample Name',\n  _id: '62ec7fe5797561104ce8d327',\n  multiple: [{\n    description: 'Node sample',\n    idx: 0,\n    price: 10,\n    saved: true,\n    selectedFiles: [{\n      base64: '../images/cactus_sample.jpeg',\n      name: 'monsterra-node_sample.jpeg',\n      size: 1272869,\n      type: 'image/jpeg',\n      _id: '62ec7fe5797561104ce8d329'\n    }]\n  }, {\n    description: 'Node sample',\n    idx: 0,\n    price: 10,\n    saved: true,\n    selectedFiles: [{\n      base64: '../images/choco_red1_sample.jpeg',\n      name: 'monsterra-node_sample.jpeg',\n      size: 1272869,\n      type: 'image/jpeg',\n      _id: '62ec7fe5797561104ce8d329'\n    }]\n  }]\n};\nexport const fetchAllPlants = createAsyncThunk('plants/fetchAllPlants', async () => {\n  try {\n    //let { data } = await api.fetchAllPlants();\n    return data;\n  } catch (error) {}\n});\nexport const deletePlant = createAsyncThunk('plants/deletePlant', async id => {\n  try {\n    api.deleteOnePlant(id);\n    return id;\n  } catch (error) {}\n});\nexport const editPlant = createAsyncThunk('plants/editPlant', async plantInfo => {\n  try {\n    api.editPlant(plantInfo);\n    return plantInfo;\n  } catch (error) {}\n});\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectAllPlants\");","map":{"version":3,"sources":["/Users/dortiz/Desktop/Development/PersonalProjects/VerdeInventorySystem/client/src/store/plantsSlice.js"],"names":["createAsyncThunk","createSlice","api","calculateAmount","list","amount","forEach","item","quantity","slice","name","initialState","plants","status","error","reducers","extraReducers","builder","addCase","fetchAllPlants","pending","state","action","console","log","fulfilled","payload","rejected","message","createNewPlant","push","deletePlant","newList","filter","plant","_id","editPlant","reducer","SelectAllPlants","getPlantsStatus","getPlantsError","getPlantsAmount","plantInfo","data","category","multiple","description","idx","price","saved","selectedFiles","base64","size","type","id","deleteOnePlant"],"mappings":"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","sourcesContent":["\nimport {createAsyncThunk, createSlice} from '@reduxjs/toolkit';\nimport * as api from '../api/index'; \n\n// Helper functions \nfunction calculateAmount(list){\n    let amount = 0; \n    list.forEach(item => amount += item.quantity); \n    return amount; \n}\n\n\n//Slice ** Think of Slice as a feature for the application.\n\nconst slice = createSlice({\n    name: 'plants', \n    initialState: {\n        plants: [],\n        amount: 0, \n        status: 'idle', //'idel' | 'loading' | 'succeeded' | 'failed'\n        error: null\n    }, \n    reducers: {\n\n    }, \n    extraReducers(builder){\n        builder\n            .addCase(fetchAllPlants.pending, (state, action)=>{\n                state.status = 'loading'; \n                console.log('loading')\n            })\n            .addCase(fetchAllPlants.fulfilled, (state, action)=>{\n                state.status = 'succeeded'\n                state.plants = action.payload\n                //state.amount = calculateAmount(action.payload)\n                state.amount = calculateAmount(action.payload)\n            })\n            .addCase(fetchAllPlants.rejected, (state, action) => {\n                state.status = 'failed'\n                state.error = action.error.message\n            })\n            .addCase(createNewPlant.pending, (state, action) => {\n                state.status = 'loading';\n            })\n            .addCase(createNewPlant.fulfilled, (state, action) => {\n                state.status = 'succeeded'\n                state.plants.push(action.payload)\n                state.amount += action.payload.quantity\n            })\n            .addCase(createNewPlant.rejected, (state, action) => {\n                state.status = 'failed'\n                state.error = action.error.message\n            })\n            .addCase(deletePlant.pending, (state, action) => {\n                state.status = 'loading';\n            })\n            .addCase(deletePlant.fulfilled, (state, action) => {\n                state.status = 'succeeded'\n                let newList = state.plants.filter(plant => plant._id !== action.payload); \n                state.plants =  newList\n                state.amount -= action.payload.quantity\n            })\n            .addCase(deletePlant.rejected, (state, action) => {\n                state.status = 'failed'\n                state.error = action.error.message\n            })\n            .addCase(editPlant.pending, (state, action) => {\n                state.status = 'loading';\n            })\n            .addCase(editPlant.fulfilled, (state, action) => {\n                let newList = state.plants.filter(plant => plant._id !== action.payload._id);\n                newList.push(action.payload); \n                state.plants = newList;\n                state.amount = calculateAmount(newList); \n                state.status = 'succeeded'\n            })\n            .addCase(editPlant.rejected, (state, action) => {\n                state.status = 'failed'\n                state.error = action.error.message\n            })\n            \n    }\n}); \n\n\nexport default slice.reducer; \n\n// Exporting State\nexport const SelectAllPlants = (state) => state.plants.plants;\nexport const getPlantsStatus = (state) => state.plants.status;\nexport const getPlantsError = (state) => state.plants.error;\nexport const getPlantsAmount = (state) => state.plants.amount; \n\n// Exporting Actions \nexport const createNewPlant = createAsyncThunk('plants/createNewPlant', async (plantInfo) =>{\n    try {\n        let {data} = await api.createNewPlant(plantInfo); \n        return data; \n    } catch (error) {\n        \n    }\n})\n\n// Mock object \nlet data = {\n    category: 'Sample Category', \n    name: 'Sample Name', \n    _id: '62ec7fe5797561104ce8d327',\n    multiple: [\n        { description: 'Node sample', idx: 0, price: 10, saved: true, selectedFiles: [{ base64: '../images/cactus_sample.jpeg', name: 'monsterra-node_sample.jpeg', size: 1272869, type: 'image/jpeg', _id: '62ec7fe5797561104ce8d329' }] },\n        { description: 'Node sample', idx: 0, price: 10, saved: true, selectedFiles: [{ base64: '../images/choco_red1_sample.jpeg', name: 'monsterra-node_sample.jpeg', size: 1272869, type: 'image/jpeg', _id: '62ec7fe5797561104ce8d329' }] },\n    ]\n    \n}\n\nexport const fetchAllPlants = createAsyncThunk('plants/fetchAllPlants', async () =>{\n    try {\n        //let { data } = await api.fetchAllPlants();\n\n        return data\n    } catch (error) {\n\n    }\n})\nexport const deletePlant = createAsyncThunk('plants/deletePlant', async(id)=>{\n    try {\n        api.deleteOnePlant(id); \n        return id; \n    } catch (error) {\n        \n    }\n})\nexport const editPlant = createAsyncThunk('plants/editPlant', async(plantInfo) =>{\n    try {\n        api.editPlant(plantInfo); \n        return plantInfo\n    } catch (error) {\n        \n    }\n})\n"]},"metadata":{},"sourceType":"module"}