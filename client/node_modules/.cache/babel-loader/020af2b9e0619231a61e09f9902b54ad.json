{"ast":null,"code":"var _jsxFileName = \"/Users/dortiz/Desktop/Development/PersonalProjects/VerdeInventorySystem/client/src/components/Plants/PlantCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams, useNavigate } from 'react-router-dom'; // Redux store functions\n\nimport { deletePlant, editPlant } from '../../store/plantsSlice';\nimport { fetchPlant, SelectSinglePlant, getPlantStatus, getPlantError, resetState, getPlantParentName } from '../../store/plantSlice'; // Meterial UI Section\n\nimport { Card, Box, Typography } from '@mui/material'; // Other Imports \n\nimport FormConfirmDelete from './FormConfirmDelete';\nimport { PlantObjectValidator } from '../../services/validation';\nimport LoadingSpinner from '../Common/LoadingSpinner';\nimport ErrorMessage from '../Common/ErrorMessage';\nimport EditContent from './PlantCard/EditContent';\nimport PresentationContent from './PlantCard/PresentationContent';\nimport { handleFileSelection } from '../../../services/fileSelection';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PlantCard = () => {\n  _s();\n\n  const {\n    sectionId,\n    id\n  } = useParams();\n  const plant = useSelector(SelectSinglePlant);\n  const plantParentName = useSelector(getPlantParentName);\n  const plantStatus = useSelector(getPlantStatus);\n  const plantError = useSelector(getPlantError);\n  const [plantInfo, setPlantInfo] = useState({});\n  const [editMode, setEditMode] = useState(false);\n  const [formConfirmDeleteVisible, setFormConfirmDeleteVisible] = useState(false);\n  const [formHasAllRequiredFields, setFormHasAllRequiredFields] = useState(true);\n  const [inputOfNumberValid, setInputOfNumberValid] = useState(true);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  console.log(plant);\n  useEffect(() => {\n    if (plantStatus == 'idle') {\n      dispatch(fetchPlant(id));\n    }\n  }, [plantStatus, id, dispatch]);\n  useEffect(() => {\n    setPlantInfo(plant);\n  }, [plant]);\n  useEffect(() => {\n    return () => {\n      dispatch(resetState());\n    };\n  }, []);\n  let content;\n\n  if (plantStatus == 'loading') {\n    content = /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }, this);\n  } else if (plantStatus == 'succeeded') {\n    content = /*#__PURE__*/_jsxDEV(PresentationContent, {\n      plant: plant,\n      handleEditMode: handleEditMode,\n      setFormConfirmDeleteVisible: setFormConfirmDeleteVisible\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 19\n    }, this);\n  } else if (plantStatus == 'failed') {\n    content = /*#__PURE__*/_jsxDEV(ErrorMessage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }, this);\n  }\n\n  function handleInputChange(event) {\n    let newObj = {};\n\n    if (!isNaN(parseInt(event.target.value))) {\n      newObj[event.target.name] = parseInt(event.target.value);\n    } else {\n      newObj[event.target.name] = event.target.value;\n    }\n\n    setPlantInfo({ ...plantInfo,\n      ...newObj\n    });\n  }\n\n  function handleFileSelection(event) {}\n\n  function handleEditMode() {\n    setEditMode(!editMode);\n  }\n\n  ;\n\n  function handleSaveEdit() {\n    let PlantValidator = new PlantObjectValidator(plantInfo);\n    let result = PlantValidator.validatePlantDetailsObject();\n    setFormHasAllRequiredFields(PlantValidator.hasAllRequiredFields);\n    setInputOfNumberValid(PlantValidator.inputNumberIsValid);\n\n    if (result) {\n      console.log('success ---->', plantInfo); // dispatch(editPlant(plantInfo));\n      // navigate('/plants', {replace: true}); \n    }\n  }\n\n  ;\n\n  function handleDeleteItem() {\n    //console.log(sectionId, ' parent---->', id, ' childid --> ')\n    let idInfoObject = {\n      sectionId: sectionId,\n      id: id\n    };\n    dispatch(deletePlant(idInfoObject));\n    navigate('/plants', {\n      replace: true\n    });\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [formConfirmDeleteVisible && /*#__PURE__*/_jsxDEV(FormConfirmDelete, {\n      handleDeleteItem: handleDeleteItem,\n      setFormConfirmDeleteVisible: setFormConfirmDeleteVisible\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 42\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        margin: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        children: plantParentName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), editMode ? /*#__PURE__*/_jsxDEV(EditContent, {\n        plant: plant,\n        plantInfo: plantInfo,\n        formHasAllRequiredFields: formHasAllRequiredFields,\n        inputOfNumberValid: inputOfNumberValid,\n        handleSaveEdit: handleSaveEdit,\n        handleEditMode: handleEditMode,\n        handleInputChange: handleInputChange,\n        handleFileSelection: handleFileSelection\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this) : content]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 13\n  }, this);\n};\n\n_s(PlantCard, \"jXM1/fYpbFFoBkZGqSJxJLyLd48=\", false, function () {\n  return [useParams, useSelector, useSelector, useSelector, useSelector, useDispatch, useNavigate];\n});\n\n_c = PlantCard;\nexport default PlantCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlantCard\");","map":{"version":3,"sources":["/Users/dortiz/Desktop/Development/PersonalProjects/VerdeInventorySystem/client/src/components/Plants/PlantCard.js"],"names":["React","useEffect","useState","useSelector","useDispatch","useParams","useNavigate","deletePlant","editPlant","fetchPlant","SelectSinglePlant","getPlantStatus","getPlantError","resetState","getPlantParentName","Card","Box","Typography","FormConfirmDelete","PlantObjectValidator","LoadingSpinner","ErrorMessage","EditContent","PresentationContent","handleFileSelection","PlantCard","sectionId","id","plant","plantParentName","plantStatus","plantError","plantInfo","setPlantInfo","editMode","setEditMode","formConfirmDeleteVisible","setFormConfirmDeleteVisible","formHasAllRequiredFields","setFormHasAllRequiredFields","inputOfNumberValid","setInputOfNumberValid","dispatch","navigate","console","log","content","handleEditMode","handleInputChange","event","newObj","isNaN","parseInt","target","value","name","handleSaveEdit","PlantValidator","result","validatePlantDetailsObject","hasAllRequiredFields","inputNumberIsValid","handleDeleteItem","idInfoObject","replace","margin"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { useParams, useNavigate} from 'react-router-dom';\n// Redux store functions\nimport { deletePlant, editPlant} from '../../store/plantsSlice';\nimport {fetchPlant, SelectSinglePlant, getPlantStatus, getPlantError, resetState, getPlantParentName} from '../../store/plantSlice'; \n// Meterial UI Section\nimport { Card, Box, Typography} from '@mui/material';\n\n// Other Imports \nimport FormConfirmDelete from './FormConfirmDelete';\nimport { PlantObjectValidator } from '../../services/validation';\nimport LoadingSpinner from '../Common/LoadingSpinner';\nimport ErrorMessage from '../Common/ErrorMessage';\nimport EditContent from './PlantCard/EditContent';\nimport PresentationContent from './PlantCard/PresentationContent';\nimport { handleFileSelection } from '../../../services/fileSelection';\n\nconst PlantCard = () => { \n    const { sectionId, id } = useParams();\n    const plant = useSelector(SelectSinglePlant); \n    const plantParentName = useSelector(getPlantParentName); \n    const plantStatus = useSelector(getPlantStatus); \n    const plantError = useSelector(getPlantError); \n    const [plantInfo, setPlantInfo] = useState({});\n    const [editMode, setEditMode] = useState(false); \n    const [formConfirmDeleteVisible, setFormConfirmDeleteVisible] = useState(false); \n    const [formHasAllRequiredFields, setFormHasAllRequiredFields] = useState(true);\n    const [inputOfNumberValid, setInputOfNumberValid] = useState(true);\n    const dispatch = useDispatch(); \n    const navigate = useNavigate(); \n    console.log(plant)\n    useEffect(() => {\n        if(plantStatus == 'idle'){\n            dispatch(fetchPlant(id))\n        }\n        \n    }, [plantStatus, id, dispatch]); \n    useEffect(()=>{\n        setPlantInfo(plant)\n    }, [plant]); \n\n    useEffect(()=>{\n        return () =>{\n            dispatch(resetState()); \n        }\n    }, [])\n    let content; \n\n    if(plantStatus == 'loading'){\n        content = <LoadingSpinner />\n    } else if(plantStatus == 'succeeded'){\n        content = <PresentationContent plant={plant} handleEditMode={handleEditMode} setFormConfirmDeleteVisible={setFormConfirmDeleteVisible}/>\n    } else if(plantStatus == 'failed'){\n        content = <ErrorMessage /> \n    }\n\n    function handleInputChange(event){\n        let newObj = {};\n        if (!isNaN(parseInt(event.target.value))) {\n            newObj[event.target.name] = parseInt(event.target.value);\n        } else {\n            newObj[event.target.name] = event.target.value;\n        }\n        setPlantInfo({\n            ...plantInfo,\n            ...newObj\n        })\n    }\n    function handleFileSelection(event){\n\n    }\n    function handleEditMode(){\n        setEditMode(!editMode);  \n    }; \n\n    function handleSaveEdit(){\n        let PlantValidator = new PlantObjectValidator(plantInfo)\n        let result = PlantValidator.validatePlantDetailsObject(); \n        setFormHasAllRequiredFields(PlantValidator.hasAllRequiredFields);\n        setInputOfNumberValid(PlantValidator.inputNumberIsValid);\n        if(result){\n            console.log('success ---->', plantInfo)\n            // dispatch(editPlant(plantInfo));\n            // navigate('/plants', {replace: true}); \n        } \n    }; \n\n    function handleDeleteItem(){\n        //console.log(sectionId, ' parent---->', id, ' childid --> ')\n        let idInfoObject = {sectionId: sectionId, id: id}\n        dispatch(deletePlant(idInfoObject));\n        navigate('/plants', {replace: true}); \n    }; \n    \n    return (\n            <Box>\n            {formConfirmDeleteVisible && <FormConfirmDelete handleDeleteItem={handleDeleteItem} setFormConfirmDeleteVisible={setFormConfirmDeleteVisible} /> }\n                <Card sx={{ margin: \"10px\" }}>\n                <Typography variant=\"h5\">{plantParentName}</Typography>\n                    {editMode ? (\n                    <EditContent plant={plant} plantInfo={plantInfo}\n                              formHasAllRequiredFields={formHasAllRequiredFields}\n                              inputOfNumberValid={inputOfNumberValid} \n                              handleSaveEdit={handleSaveEdit}\n                              handleEditMode={handleEditMode}\n                              handleInputChange={handleInputChange}\n                              handleFileSelection={handleFileSelection}\n                              />\n                    ) : (\n                        content\n                    )}\n                </Card>\n            </Box>\n           \n        \n      \n    )\n}\n\nexport default PlantCard;"]},"metadata":{},"sourceType":"module"}