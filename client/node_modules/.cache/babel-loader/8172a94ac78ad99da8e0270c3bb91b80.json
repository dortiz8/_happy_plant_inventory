{"ast":null,"code":"var _jsxFileName = \"/Users/dortiz/Desktop/Development/PersonalProjects/VerdeInventorySystem/client/src/components/Plants/FormAddPlant.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'; // Redux store functions\n\nimport { createNewPlant } from '../../store/plantsSlice'; // Material UI Section \n\nimport { Button, Typography, Paper, Box, Input, InputLabel, Select, MenuItem, List, ListItem, Radio, FormControl, FormLabel, RadioGroup, FormControlLabel } from '@mui/material';\nimport CloseRounded from '@mui/icons-material/CloseRounded';\nimport AddIcon from '@mui/icons-material/Add'; // Component Imports\n\nimport FormConfirmAddPlant from './FormConfirmAddPlant';\nimport FormConfirmClear from './FormConfirmClear'; // Other imports \n\nimport plantCategories from '../../lists/plantCategories';\nimport { useNavigate } from 'react-router';\nimport { PlantObjectValidator } from '../../services/validation';\nimport GeneralPlantInfo from '../../models/generalPlantInfo';\nimport PlantDetails from './PlantSpecifics/PlantDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet plantSpecificsObject = {\n  description: \"\",\n  price: 0,\n  selectedFiles: []\n};\n\nconst FormAddPlant = e => {\n  _s();\n\n  // Initialize the object \n  let generalPlantObject = new GeneralPlantInfo(\"\", \"\");\n  let plantSpecificsObject = new PlantSpecifics(\"\", 0, \"\", []);\n  generalPlantObject.multiple.push(plantSpecificsObject); // Component State section \n\n  let localStorageData = JSON.parse(localStorage.getItem('plantInfo')) || generalPlantObject;\n  const [plantInfo, setPlantInfo] = useState(localStorageData);\n  const [multiple, setMultiple] = useState(false);\n  const [plantQuantity, setPlantQuantity] = useState(1);\n  const [formHasAllRequiredFields, setFormHasAllRequiredFields] = useState(true);\n  const [inputOfNumberValid, setInputOfNumberValid] = useState(true);\n  const [formConfirmVisible, setFormConfirmVisible] = useState(false);\n  const [formConfirmClearVisible, setFormConfirmClearVisible] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  console.log(plantInfo); // Setting plantInfo into local storage\n\n  useEffect(() => {\n    localStorage.setItem('plantInfo', JSON.stringify(plantInfo));\n  });\n\n  function handleInputChange(event) {\n    let newObj = {};\n\n    if (!isNaN(parseInt(event.target.value))) {\n      newObj[event.target.name] = parseInt(event.target.value);\n    } else {\n      newObj[event.target.name] = event.target.value;\n    }\n\n    setPlantInfo({ ...plantInfo,\n      ...newObj\n    });\n  }\n\n  ;\n\n  function handleMultiple(e) {\n    let val = e.target.value;\n\n    if (val.toLocaleUpperCase() == \"Single\".toLocaleUpperCase()) {\n      setMultiple(false);\n    } else {\n      setMultiple(true);\n    }\n  }\n\n  function handleDeletePlantFromList() {\n    if (!(plantQuantity < 2)) {\n      setPlantQuantity(plantQuantity - 1);\n    }\n  }\n\n  function handleAddPlantToList() {\n    let plantSpecificsObject = new PlantSpecifics(\"\", 0, \"\", []);\n    setPlantInfo({ ...plantInfo,\n      multiple: [...plantInfo.multiple, plantSpecificsObject]\n    });\n    setPlantQuantity(plantQuantity + 1);\n  }\n\n  function handlePreSubmit(e) {\n    // Prevent postback \n    e.preventDefault();\n\n    if (submitValidation()) {\n      setFormConfirmVisible(true);\n    }\n  }\n\n  function handleSubmit(e) {\n    dispatch(createNewPlant(plantInfo));\n    setFormConfirmVisible(false);\n    setPlantInfo({ ...generalPlantObject\n    });\n    localStorage.removeItem('plantInfo');\n    navigate('/plants', {\n      replace: true\n    });\n  }\n\n  function handleClearForm() {\n    setPlantInfo(generalPlantObject);\n  }\n\n  function submitValidation() {\n    let PlantValidator = new PlantObjectValidator(plantInfo);\n    let result = PlantValidator.validate();\n    setFormHasAllRequiredFields(PlantValidator.hasAllRequiredFields);\n    setInputOfNumberValid(PlantValidator.inputNumberIsValid);\n    return result;\n  }\n\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    children: [formConfirmVisible && /*#__PURE__*/_jsxDEV(FormConfirmAddPlant, {\n      plantInfo: plantInfo,\n      setFormConfirmVisible: setFormConfirmVisible,\n      handleSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 36\n    }, this), formConfirmClearVisible && /*#__PURE__*/_jsxDEV(FormConfirmClear, {\n      handleClearForm: handleClearForm,\n      setFormConfirmClearVisible: setFormConfirmClearVisible\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 41\n    }, this), formConfirmVisible || formConfirmClearVisible ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"form\", {\n      autoComplete: \"off\",\n      noValidate: true,\n      onSubmit: e => handlePreSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          children: \"Describe the new member!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [!formHasAllRequiredFields && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: \"* All fields and images are required.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 55\n        }, this), !inputOfNumberValid && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: \"* Quantity or Price is not a valid number.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 49\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          backgroundColor: '#FAFAFA',\n          margin: '1rem 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"name\",\n            type: \"text\",\n            value: plantInfo.name,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            label: \"Category\",\n            name: \"category\",\n            value: plantInfo.category ? plantInfo.category : '',\n            onChange: handleInputChange,\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"\",\n              children: \" -- \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 33\n            }, this), plantCategories.map(category => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: category,\n              children: category\n            }, plantCategories.indexOf(category), false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 69\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              children: \"How Many?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(RadioGroup, {\n              onChange: handleMultiple,\n              children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                value: \"Single\",\n                label: \"Single\",\n                control: /*#__PURE__*/_jsxDEV(Radio, {\n                  checked: !multiple\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 94\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                value: \"Multiple\",\n                label: \"Multiple\",\n                control: /*#__PURE__*/_jsxDEV(Radio, {\n                  checked: multiple\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 98\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 29\n          }, this), multiple && /*#__PURE__*/_jsxDEV(Box, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"success\",\n              onClick: handleAddPlantToList,\n              children: [\"Add\", /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 125\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 47\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          children: [...Array(plantQuantity).keys()].map(i => /*#__PURE__*/_jsxDEV(PlantDetails, {\n            plantNumber: i + 1,\n            details: plantInfo.multiple[i],\n            handleInputChange: handleInputChange,\n            handleFileSelection: handleFileSelection,\n            DeleteFileFromList: DeleteFileFromList,\n            handleDeletePlantFromList: handleDeletePlantFromList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        margin: '2rem 0',\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          size: \"large\",\n          type: \"submit\",\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"error\",\n          size: \"large\",\n          onClick: () => setFormConfirmClearVisible(true),\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormAddPlant, \"ASzy+HlImEvfuJpCoiEFp/vQyqs=\", false, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = FormAddPlant;\nexport default FormAddPlant;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormAddPlant\");","map":{"version":3,"sources":["/Users/dortiz/Desktop/Development/PersonalProjects/VerdeInventorySystem/client/src/components/Plants/FormAddPlant.js"],"names":["React","useState","useEffect","useDispatch","useSelector","createNewPlant","Button","Typography","Paper","Box","Input","InputLabel","Select","MenuItem","List","ListItem","Radio","FormControl","FormLabel","RadioGroup","FormControlLabel","CloseRounded","AddIcon","FormConfirmAddPlant","FormConfirmClear","plantCategories","useNavigate","PlantObjectValidator","GeneralPlantInfo","PlantDetails","plantSpecificsObject","description","price","selectedFiles","FormAddPlant","e","generalPlantObject","PlantSpecifics","multiple","push","localStorageData","JSON","parse","localStorage","getItem","plantInfo","setPlantInfo","setMultiple","plantQuantity","setPlantQuantity","formHasAllRequiredFields","setFormHasAllRequiredFields","inputOfNumberValid","setInputOfNumberValid","formConfirmVisible","setFormConfirmVisible","formConfirmClearVisible","setFormConfirmClearVisible","dispatch","navigate","console","log","setItem","stringify","handleInputChange","event","newObj","isNaN","parseInt","target","value","name","handleMultiple","val","toLocaleUpperCase","handleDeletePlantFromList","handleAddPlantToList","handlePreSubmit","preventDefault","submitValidation","handleSubmit","removeItem","replace","handleClearForm","PlantValidator","result","validate","hasAllRequiredFields","inputNumberIsValid","backgroundColor","margin","category","map","indexOf","Array","keys","i","handleFileSelection","DeleteFileFromList"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CACA;;AACA,SAASC,cAAT,QAA8B,yBAA9B,C,CACA;;AACA,SAASC,MAAT,EAAiBC,UAAjB,EAA6BC,KAA7B,EAAoCC,GAApC,EAAyCC,KAAzC,EAAgDC,UAAhD,EAA4DC,MAA5D,EAAoEC,QAApE,EAA8EC,IAA9E,EAAoFC,QAApF,EAA8FC,KAA9F,EAAqGC,WAArG,EAAkHC,SAAlH,EAA6HC,UAA7H,EAAyIC,gBAAzI,QAAgK,eAAhK;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AAEA,OAAOC,OAAP,MAAoB,yBAApB,C,CACA;;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,gBAAP,MAA6B,oBAA7B,C,CACA;;AACA,OAAOC,eAAP,MAA4B,6BAA5B;AAEA,SAASC,WAAT,QAA4B,cAA5B;AACA,SAASC,oBAAT,QAAqC,2BAArC;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;AAEA,OAAOC,YAAP,MAAyB,+BAAzB;;;AACA,IAAIC,oBAAoB,GAAG;AAACC,EAAAA,WAAW,EAAE,EAAd;AAAkBC,EAAAA,KAAK,EAAE,CAAzB;AAA4BC,EAAAA,aAAa,EAAE;AAA3C,CAA3B;;AACA,MAAMC,YAAY,GAAIC,CAAD,IAAO;AAAA;;AACxB;AACA,MAAIC,kBAAkB,GAAG,IAAIR,gBAAJ,CAAqB,EAArB,EAAyB,EAAzB,CAAzB;AACA,MAAIE,oBAAoB,GAAG,IAAIO,cAAJ,CAAmB,EAAnB,EAAuB,CAAvB,EAA0B,EAA1B,EAA8B,EAA9B,CAA3B;AACAD,EAAAA,kBAAkB,CAACE,QAAnB,CAA4BC,IAA5B,CAAiCT,oBAAjC,EAJwB,CAOxB;;AACA,MAAIU,gBAAgB,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,KAAiDR,kBAAxE;AACA,QAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4B7C,QAAQ,CAACuC,gBAAD,CAA1C;AACA,QAAM,CAACF,QAAD,EAAWS,WAAX,IAA0B9C,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAAC+C,aAAD,EAAgBC,gBAAhB,IAAoChD,QAAQ,CAAC,CAAD,CAAlD;AACA,QAAM,CAACiD,wBAAD,EAA2BC,2BAA3B,IAA0DlD,QAAQ,CAAC,IAAD,CAAxE;AACA,QAAM,CAACmD,kBAAD,EAAqBC,qBAArB,IAA8CpD,QAAQ,CAAC,IAAD,CAA5D;AACA,QAAM,CAACqD,kBAAD,EAAqBC,qBAArB,IAA8CtD,QAAQ,CAAC,KAAD,CAA5D;AACA,QAAM,CAACuD,uBAAD,EAA0BC,0BAA1B,IAAwDxD,QAAQ,CAAC,KAAD,CAAtE;AACA,QAAMyD,QAAQ,GAAGvD,WAAW,EAA5B;AACA,QAAMwD,QAAQ,GAAGjC,WAAW,EAA5B;AACAkC,EAAAA,OAAO,CAACC,GAAR,CAAYhB,SAAZ,EAlBwB,CAoBxB;;AACA3C,EAAAA,SAAS,CAAC,MAAI;AACVyC,IAAAA,YAAY,CAACmB,OAAb,CAAqB,WAArB,EAAkCrB,IAAI,CAACsB,SAAL,CAAelB,SAAf,CAAlC;AACH,GAFQ,CAAT;;AAKA,WAASmB,iBAAT,CAA2BC,KAA3B,EAAiC;AAC7B,QAAIC,MAAM,GAAG,EAAb;;AACA,QAAI,CAACC,KAAK,CAACC,QAAQ,CAACH,KAAK,CAACI,MAAN,CAAaC,KAAd,CAAT,CAAV,EAAyC;AACrCJ,MAAAA,MAAM,CAACD,KAAK,CAACI,MAAN,CAAaE,IAAd,CAAN,GAA4BH,QAAQ,CAACH,KAAK,CAACI,MAAN,CAAaC,KAAd,CAApC;AACH,KAFD,MAEK;AACDJ,MAAAA,MAAM,CAACD,KAAK,CAACI,MAAN,CAAaE,IAAd,CAAN,GAA4BN,KAAK,CAACI,MAAN,CAAaC,KAAzC;AACH;;AACDxB,IAAAA,YAAY,CAAC,EACT,GAAGD,SADM;AAET,SAAGqB;AAFM,KAAD,CAAZ;AAIH;;AAAA;;AACD,WAASM,cAAT,CAAwBrC,CAAxB,EAA0B;AACtB,QAAIsC,GAAG,GAAGtC,CAAC,CAACkC,MAAF,CAASC,KAAnB;;AACA,QAAGG,GAAG,CAACC,iBAAJ,MAA2B,SAASA,iBAAT,EAA9B,EAA2D;AACvD3B,MAAAA,WAAW,CAAC,KAAD,CAAX;AACH,KAFD,MAEK;AACDA,MAAAA,WAAW,CAAC,IAAD,CAAX;AACH;AACJ;;AACD,WAAS4B,yBAAT,GAAoC;AAChC,QAAI,EAAE3B,aAAa,GAAG,CAAlB,CAAJ,EAA0B;AAEtBC,MAAAA,gBAAgB,CAACD,aAAa,GAAG,CAAjB,CAAhB;AACH;AACJ;;AACD,WAAS4B,oBAAT,GAA+B;AAC3B,QAAI9C,oBAAoB,GAAG,IAAIO,cAAJ,CAAmB,EAAnB,EAAuB,CAAvB,EAA0B,EAA1B,EAA8B,EAA9B,CAA3B;AACAS,IAAAA,YAAY,CAAC,EAAC,GAAGD,SAAJ;AAAeP,MAAAA,QAAQ,EAAE,CAAC,GAAGO,SAAS,CAACP,QAAd,EAAwBR,oBAAxB;AAAzB,KAAD,CAAZ;AACAmB,IAAAA,gBAAgB,CAACD,aAAa,GAAG,CAAjB,CAAhB;AACH;;AAID,WAAS6B,eAAT,CAAyB1C,CAAzB,EAA2B;AACvB;AACAA,IAAAA,CAAC,CAAC2C,cAAF;;AACA,QAAGC,gBAAgB,EAAnB,EAAsB;AAClBxB,MAAAA,qBAAqB,CAAC,IAAD,CAArB;AACH;AACJ;;AACD,WAASyB,YAAT,CAAsB7C,CAAtB,EAAwB;AACpBuB,IAAAA,QAAQ,CAACrD,cAAc,CAACwC,SAAD,CAAf,CAAR;AACAU,IAAAA,qBAAqB,CAAC,KAAD,CAArB;AACAT,IAAAA,YAAY,CAAC,EAAC,GAAGV;AAAJ,KAAD,CAAZ;AACAO,IAAAA,YAAY,CAACsC,UAAb,CAAwB,WAAxB;AACAtB,IAAAA,QAAQ,CAAC,SAAD,EAAY;AAACuB,MAAAA,OAAO,EAAE;AAAV,KAAZ,CAAR;AACH;;AAED,WAASC,eAAT,GAA0B;AACtBrC,IAAAA,YAAY,CAACV,kBAAD,CAAZ;AACH;;AAED,WAAS2C,gBAAT,GAA2B;AACvB,QAAIK,cAAc,GAAG,IAAIzD,oBAAJ,CAAyBkB,SAAzB,CAArB;AACA,QAAIwC,MAAM,GAAID,cAAc,CAACE,QAAf,EAAd;AACAnC,IAAAA,2BAA2B,CAACiC,cAAc,CAACG,oBAAhB,CAA3B;AACAlC,IAAAA,qBAAqB,CAAC+B,cAAc,CAACI,kBAAhB,CAArB;AACA,WAAOH,MAAP;AACH;;AAED,sBACI,QAAC,KAAD;AAAA,eACK/B,kBAAkB,iBAAI,QAAC,mBAAD;AAAqB,MAAA,SAAS,EAAET,SAAhC;AAA2C,MAAA,qBAAqB,EAAEU,qBAAlE;AAAyF,MAAA,YAAY,EAAEyB;AAAvG;AAAA;AAAA;AAAA;AAAA,YAD3B,EAEKxB,uBAAuB,iBAAI,QAAC,gBAAD;AAAkB,MAAA,eAAe,EAAE2B,eAAnC;AAAoD,MAAA,0BAA0B,EAAE1B;AAAhF;AAAA;AAAA;AAAA;AAAA,YAFhC,EAGKH,kBAAkB,IAAIE,uBAAtB,gBAAgD,qCAAhD,gBACG;AAAM,MAAA,YAAY,EAAC,KAAnB;AAAyB,MAAA,UAAU,MAAnC;AAAoC,MAAA,QAAQ,EAAGrB,CAAD,IAAO0C,eAAe,CAAC1C,CAAD,CAApE;AAAA,8BAEI,QAAC,GAAD;AAAA,+BACI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAFJ,eAKI,QAAC,GAAD;AAAA,mBACK,CAACe,wBAAD,iBAA6B,QAAC,UAAD;AAAY,UAAA,KAAK,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADlC,EAEK,CAACE,kBAAD,iBAAuB,QAAC,UAAD;AAAY,UAAA,KAAK,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAF5B;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,eASI,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE;AAACqC,UAAAA,eAAe,EAAE,SAAlB;AAA6BC,UAAAA,MAAM,EAAE;AAArC,SAAT;AAAA,gCACI,QAAC,GAAD;AAAA,kCACI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,IAAI,EAAC,MAAxB;AAA+B,YAAA,KAAK,EAAE7C,SAAS,CAAC0B,IAAhD;AAAsD,YAAA,QAAQ,EAAEP;AAAhE;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKI,QAAC,GAAD;AAAA,kCACI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,MAAD;AAAQ,YAAA,KAAK,EAAC,UAAd;AAAyB,YAAA,IAAI,EAAC,UAA9B;AAAyC,YAAA,KAAK,EAAEnB,SAAS,CAAC8C,QAAV,GAAqB9C,SAAS,CAAC8C,QAA/B,GAA0C,EAA1F;AAA8F,YAAA,QAAQ,EAAE3B,iBAAxG;AAAA,oCACI,QAAC,QAAD;AAAU,cAAA,KAAK,EAAC,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAGQvC,eAAe,CAACmE,GAAhB,CAAoBD,QAAQ,iBAAI,QAAC,QAAD;AAAkD,cAAA,KAAK,EAAEA,QAAzD;AAAA,wBAAoEA;AAApE,eAAelE,eAAe,CAACoE,OAAhB,CAAwBF,QAAxB,CAAf;AAAA;AAAA;AAAA;AAAA,oBAAhC,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,eAcI,QAAC,GAAD;AAAA,kCACI,QAAC,WAAD;AAAA,oCACI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,UAAD;AAAY,cAAA,QAAQ,EAAEnB,cAAtB;AAAA,sCACI,QAAC,gBAAD;AAAkB,gBAAA,KAAK,EAAC,QAAxB;AAAiC,gBAAA,KAAK,EAAC,QAAvC;AAAgD,gBAAA,OAAO,eAAE,QAAC,KAAD;AAAO,kBAAA,OAAO,EAAE,CAAClC;AAAjB;AAAA;AAAA;AAAA;AAAA;AAAzD;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,gBAAD;AAAkB,gBAAA,KAAK,EAAC,UAAxB;AAAmC,gBAAA,KAAK,EAAC,UAAzC;AAAoD,gBAAA,OAAO,eAAE,QAAC,KAAD;AAAO,kBAAA,OAAO,EAAEA;AAAhB;AAAA;AAAA;AAAA;AAAA;AAA7D;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAQKA,QAAQ,iBAAI,QAAC,GAAD;AAAA,mCAAK,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAC,WAAhB;AAA4B,cAAA,KAAK,EAAC,SAAlC;AAA4C,cAAA,OAAO,EAAEsC,oBAArD;AAAA,6CAA8E,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,sBAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,kBARjB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdJ;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ,eAkCI,QAAC,GAAD;AAAA,+BACI,QAAC,GAAD;AAAA,oBAEQ,CAAC,GAAGkB,KAAK,CAAC9C,aAAD,CAAL,CAAqB+C,IAArB,EAAJ,EAAiCH,GAAjC,CAAqCI,CAAC,iBAClC,QAAC,YAAD;AAAc,YAAA,WAAW,EAAEA,CAAC,GAAC,CAA7B;AACc,YAAA,OAAO,EAAEnD,SAAS,CAACP,QAAV,CAAmB0D,CAAnB,CADvB;AAEc,YAAA,iBAAiB,EAAEhC,iBAFjC;AAGc,YAAA,mBAAmB,EAAEiC,mBAHnC;AAIc,YAAA,kBAAkB,EAAEC,kBAJlC;AAKc,YAAA,yBAAyB,EAAEvB;AALzC;AAAA;AAAA;AAAA;AAAA,kBADJ;AAFR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAlCJ,eAkDI,QAAC,GAAD;AAAK,QAAA,MAAM,EAAE,QAAb;AAAA,gCACI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,WAAhB;AAA4B,UAAA,IAAI,EAAC,OAAjC;AAAyC,UAAA,IAAI,EAAC,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,WAAhB;AAA4B,UAAA,KAAK,EAAC,OAAlC;AAA0C,UAAA,IAAI,EAAC,OAA/C;AAAuD,UAAA,OAAO,EAAE,MAAMlB,0BAA0B,CAAC,IAAD,CAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAlDJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJR;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA+DH,CAtJD;;GAAMvB,Y;UAgBe/B,W,EACAuB,W;;;KAjBfQ,Y;AAwJN,eAAeA,YAAf","sourcesContent":["import React from 'react';\nimport {useState, useEffect} from 'react'; \nimport { useDispatch, useSelector } from 'react-redux'; \n// Redux store functions\nimport { createNewPlant} from '../../store/plantsSlice';\n// Material UI Section \nimport { Button, Typography, Paper, Box, Input, InputLabel, Select, MenuItem, List, ListItem, Radio, FormControl, FormLabel, RadioGroup, FormControlLabel} from '@mui/material';\nimport CloseRounded from '@mui/icons-material/CloseRounded';\n\nimport AddIcon from '@mui/icons-material/Add';\n// Component Imports\nimport FormConfirmAddPlant from './FormConfirmAddPlant'; \nimport FormConfirmClear from './FormConfirmClear';\n// Other imports \nimport plantCategories from '../../lists/plantCategories';\n\nimport { useNavigate } from 'react-router';\nimport { PlantObjectValidator } from '../../services/validation';\nimport GeneralPlantInfo from '../../models/generalPlantInfo';\n\nimport PlantDetails from './PlantSpecifics/PlantDetails';\nlet plantSpecificsObject = {description: \"\", price: 0, selectedFiles: []}; \nconst FormAddPlant = (e) => {\n    // Initialize the object \n    let generalPlantObject = new GeneralPlantInfo(\"\", \"\");\n    let plantSpecificsObject = new PlantSpecifics(\"\", 0, \"\", []); \n    generalPlantObject.multiple.push(plantSpecificsObject);\n\n\n    // Component State section \n    let localStorageData = JSON.parse(localStorage.getItem('plantInfo')) || generalPlantObject; \n    const [plantInfo, setPlantInfo] = useState(localStorageData);\n    const [multiple, setMultiple] = useState(false); \n    const [plantQuantity, setPlantQuantity] = useState(1); \n    const [formHasAllRequiredFields, setFormHasAllRequiredFields] = useState(true); \n    const [inputOfNumberValid, setInputOfNumberValid] = useState(true); \n    const [formConfirmVisible, setFormConfirmVisible] = useState(false); \n    const [formConfirmClearVisible, setFormConfirmClearVisible] = useState(false); \n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n    console.log(plantInfo)\n\n    // Setting plantInfo into local storage\n    useEffect(()=>{\n        localStorage.setItem('plantInfo', JSON.stringify(plantInfo))\n    })\n\n\n    function handleInputChange(event){\n        let newObj = {}; \n        if (!isNaN(parseInt(event.target.value))){\n            newObj[event.target.name] = parseInt(event.target.value);\n        }else{\n            newObj[event.target.name] = event.target.value;\n        }       \n        setPlantInfo({\n            ...plantInfo, \n            ...newObj\n        })\n    }; \n    function handleMultiple(e){\n        let val = e.target.value; \n        if(val.toLocaleUpperCase() == \"Single\".toLocaleUpperCase()){\n            setMultiple(false);\n        }else{\n            setMultiple(true); \n        } \n    }\n    function handleDeletePlantFromList(){\n        if (!(plantQuantity < 2)) {\n\n            setPlantQuantity(plantQuantity - 1)\n        }\n    }\n    function handleAddPlantToList(){\n        let plantSpecificsObject = new PlantSpecifics(\"\", 0, \"\", []); \n        setPlantInfo({...plantInfo, multiple: [...plantInfo.multiple, plantSpecificsObject]}); \n        setPlantQuantity(plantQuantity + 1)\n    }\n\n\n\n    function handlePreSubmit(e){\n        // Prevent postback \n        e.preventDefault(); \n        if(submitValidation()){\n            setFormConfirmVisible(true); \n        }\n    }\n    function handleSubmit(e){\n        dispatch(createNewPlant(plantInfo));\n        setFormConfirmVisible(false); \n        setPlantInfo({...generalPlantObject})\n        localStorage.removeItem('plantInfo'); \n        navigate('/plants', {replace: true})\n    }\n\n    function handleClearForm(){\n        setPlantInfo(generalPlantObject)\n    }\n\n    function submitValidation(){\n        let PlantValidator = new PlantObjectValidator(plantInfo); \n        let result  = PlantValidator.validate(); \n        setFormHasAllRequiredFields(PlantValidator.hasAllRequiredFields); \n        setInputOfNumberValid(PlantValidator.inputNumberIsValid); \n        return result; \n    }\n    \n    return (\n        <Paper>\n            {formConfirmVisible && <FormConfirmAddPlant plantInfo={plantInfo} setFormConfirmVisible={setFormConfirmVisible} handleSubmit={handleSubmit}/>}\n            {formConfirmClearVisible && <FormConfirmClear handleClearForm={handleClearForm} setFormConfirmClearVisible={setFormConfirmClearVisible}/>}\n            {formConfirmVisible || formConfirmClearVisible ? <></> : \n                <form autoComplete=\"off\" noValidate onSubmit={(e) => handlePreSubmit(e)}>\n                \n                    <Box>\n                        <Typography>Describe the new member!</Typography>\n                    </Box>\n                    <Box>\n                        {!formHasAllRequiredFields && <Typography color=\"error\">* All fields and images are required.</Typography>}\n                        {!inputOfNumberValid && <Typography color=\"error\">* Quantity or Price is not a valid number.</Typography>}\n                    </Box>\n                    <Box sx={{backgroundColor: '#FAFAFA', margin: '1rem 0'}}>\n                        <Box>\n                            <InputLabel>Name</InputLabel>\n                            <Input name=\"name\" type=\"text\" value={plantInfo.name} onChange={handleInputChange}></Input>\n                        </Box>\n                        <Box>\n                            <InputLabel>Category</InputLabel>\n                            <Select label=\"Category\" name=\"category\" value={plantInfo.category ? plantInfo.category : ''} onChange={handleInputChange}>\n                                <MenuItem value=\"\"> -- </MenuItem>\n                                {\n                                    plantCategories.map(category => <MenuItem key={plantCategories.indexOf(category)} value={category}>{category}</MenuItem>)\n                                }\n                            </Select>\n                        </Box>\n                        <Box>\n                            <FormControl>\n                                <FormLabel>How Many?</FormLabel>\n                                <RadioGroup onChange={handleMultiple}>\n                                    <FormControlLabel value=\"Single\" label=\"Single\" control={<Radio checked={!multiple} />} />\n                                    <FormControlLabel value=\"Multiple\" label=\"Multiple\" control={<Radio checked={multiple} />} />\n                                </RadioGroup>\n                            </FormControl>\n                            {multiple && <Box><Button variant=\"contained\" color=\"success\" onClick={handleAddPlantToList}>Add<AddIcon /></Button></Box>}\n                        </Box>\n                    </Box>\n                    <Box>\n                        <Box>\n                            {\n                                [...Array(plantQuantity).keys()].map(i => (\n                                    <PlantDetails plantNumber={i+1}\n                                                  details={plantInfo.multiple[i]}\n                                                  handleInputChange={handleInputChange}\n                                                  handleFileSelection={handleFileSelection}\n                                                  DeleteFileFromList={DeleteFileFromList}\n                                                  handleDeletePlantFromList={handleDeletePlantFromList}\n                                                  />))\n                                \n                            }\n                        </Box>\n                        \n                    </Box>\n                    <Box margin={'2rem 0'}>\n                        <Button variant=\"contained\" size=\"large\" type=\"submit\">Add</Button>\n                        <Button variant=\"contained\" color=\"error\" size=\"large\" onClick={() => setFormConfirmClearVisible(true)}>Clear</Button>\n                    </Box>\n                </form>\n            }\n        </Paper>\n    )\n}\n\nexport default FormAddPlant;"]},"metadata":{},"sourceType":"module"}